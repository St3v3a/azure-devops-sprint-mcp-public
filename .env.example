# ============================================================================
# Azure DevOps Sprint MCP Server Configuration
# ============================================================================

# Required Settings
# ============================================================================

# Your Azure DevOps organization URL
# Example: https://dev.azure.com/uniper or https://dev.azure.com/yourorg
AZURE_DEVOPS_ORG_URL=https://dev.azure.com/your-organization

# Your Azure DevOps project name (case-sensitive)
AZURE_DEVOPS_PROJECT=YourProjectName


# Authentication Configuration
# ============================================================================
# Choose ONE authentication method below based on your deployment scenario
#
# ✓ IMPORTANT: Authentication method affects user identity tracking
#   - User Credentials (az login): All Azure DevOps operations tracked as YOUR user
#   - Service Principal/PAT: Operations tracked as service account (not recommended for personal use)
#
# Priority order (if multiple are set):
# 1. DefaultAzureCredential (your az login session) ← RECOMMENDED FOR PERSONAL USE
# 2. Service Principal (automation/CI-CD only)
# 3. Personal Access Token (legacy fallback)

# ----------------------------------------------------------------------------
# Option 1: User Credentials via DefaultAzureCredential (RECOMMENDED)
# ----------------------------------------------------------------------------
# ✓ Preserves user identity - Azure DevOps sees YOUR user for all operations
# ✓ No credentials to manage - uses your az login session
# ✓ Automatic token refresh - Azure SDK handles it
# ✓ Audit trail - Work item history shows "Modified by: Your Name"
#
# Setup for Docker/local use:
#   1. Run: az login
#   2. Verify: az account show
#   3. That's it! Docker mounts ~/.azure automatically
#
# No environment variables needed for user authentication!
#
# For Azure resources (VM, Function, Container) with Managed Identity:
#   1. Enable managed identity on the resource
#   2. Add the managed identity as a user in Azure DevOps org
#   3. Assign Basic or higher access level
#   (Note: Managed Identity = service account, not user identity)

# ----------------------------------------------------------------------------
# Option 2: Service Principal (For automation/CI/CD ONLY)
# ----------------------------------------------------------------------------
# ⚠️ Use for automation scenarios only - operations tracked as SERVICE ACCOUNT
# ⚠️ Not recommended for personal use - use az login instead to preserve user identity
#
# Uncomment and fill these values if using Service Principal:
# AZURE_CLIENT_ID=your-service-principal-client-id
# AZURE_CLIENT_SECRET=your-service-principal-secret
# AZURE_TENANT_ID=your-azure-tenant-id
#
# To create a service principal:
#   az ad sp create-for-rbac --name "azure-devops-mcp-sp"
# Then add it to Azure DevOps organization as a user

# ----------------------------------------------------------------------------
# Option 3: Personal Access Token (LEGACY - Not Recommended)
# ----------------------------------------------------------------------------
# ⚠️ WARNING: Less secure AND loses user identity tracking
# ⚠️ Use az login instead to preserve user context
# ⚠️ Only use PAT as a last resort for legacy compatibility
#
# Uncomment and set your PAT:
# AZURE_DEVOPS_PAT=your-personal-access-token
#
# To create a PAT:
#   1. Go to Azure DevOps > User Settings > Personal Access Tokens
#   2. Create new token with these scopes:
#      - Work Items: Read & Write
#      - Project and Team: Read
#   3. Copy the token (you won't see it again!)
#
# Note: Even though it's YOUR PAT, Azure DevOps may track operations as
#       the PAT token name, not your user account in some contexts.


# Optional Settings
# ============================================================================

# Default team name (if not specified in queries)
# AZURE_DEVOPS_DEFAULT_TEAM=YourTeamName

# Enable debug logging
# DEBUG=false

# Token refresh interval (seconds) - for Managed Identity/Service Principal
# TOKEN_REFRESH_INTERVAL=3300
